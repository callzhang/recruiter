graph TB
    subgraph "客户端层"
        A[boss_client.py<br/>API客户端]
        B[curl/HTTP请求<br/>直接API调用]
    end
    
    subgraph "服务层"
        C[boss_service.py<br/>FastAPI服务]
        D[start_service.py<br/>启动脚本]
        E[uvicorn<br/>ASGI服务器]
    end
    
    subgraph "业务逻辑层"
        F[登录管理<br/>LoginManager]
        G[数据提取<br/>DataExtractor]
        H[搜索服务<br/>SearchService]
        I[消息处理<br/>MessageHandler]
    end
    
    subgraph "配置层"
        J[src/config.py<br/>配置管理]
        K[src/mappings.py<br/>参数映射]
        L[src/page_selectors.py<br/>选择器配置]
        M[src/blacklist.py<br/>黑名单管理]
    end
    
    subgraph "自动化层"
        N[Playwright<br/>浏览器自动化]
        O[页面操作<br/>Page Operations]
        P[元素定位<br/>Element Locators]
    end
    
    subgraph "数据层"
        Q[data/state.json<br/>登录状态]
        R[data/blacklist.json<br/>黑名单配置]
        S[data/output/<br/>输出数据]
        T[notifications<br/>操作日志]
    end
    
    subgraph "外部系统"
        U[Boss直聘网站<br/>https://www.zhipin.com]
        V[聊天页面<br/>/web/chat/index]
        W[搜索页面<br/>/web/geek/job]
    end
    
    %% 连接关系
    A --> C
    B --> C
    D --> E
    E --> C
    
    C --> F
    C --> G
    C --> H
    C --> I
    
    F --> J
    G --> L
    H --> K
    I --> M
    
    F --> N
    G --> N
    H --> N
    I --> N
    
    N --> O
    O --> P
    
    F --> Q
    G --> S
    H --> T
    I --> T
    
    N --> U
    O --> V
    O --> W
    
    %% 数据流
    Q -.-> F
    R -.-> M
    S -.-> G
    T -.-> C
    
    %% 样式
    classDef clientLayer fill:#e1f5fe
    classDef serviceLayer fill:#f3e5f5
    classDef businessLayer fill:#e8f5e8
    classDef configLayer fill:#fff3e0
    classDef automationLayer fill:#fce4ec
    classDef dataLayer fill:#f1f8e9
    classDef externalLayer fill:#ffebee
    
    class A,B clientLayer
    class C,D,E serviceLayer
    class F,G,H,I businessLayer
    class J,K,L,M configLayer
    class N,O,P automationLayer
    class Q,R,S,T dataLayer
    class U,V,W externalLayer